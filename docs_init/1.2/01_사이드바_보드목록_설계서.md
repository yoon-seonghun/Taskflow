# 사이드바 보드 목록 표시 기능 설계서

## 문서 정보

| 항목 | 내용 |
|------|------|
| 문서 버전 | 1.0 |
| 작성일 | 2024-12-24 |
| 기능명 | 사이드바 보드 목록 표시 |

---

## 1. 개요

### 1.1 목적
좌측 사이드바 메뉴에 사용자가 접근 가능한 보드 목록을 표시하여 빠른 보드 전환 및 현황 파악이 가능하도록 함

### 1.2 범위
- 보드 관리 메뉴 하단에 보드 목록 섹션 추가
- 보드 유형별 구분 표시 (내 보드 / 공유해준 보드 / 공유받은 보드)
- 보드 색상 표시
- 보드 클릭 시 해당 보드로 이동

---

## 2. 요구사항

### 2.1 기능 요구사항

| ID | 요구사항 | 우선순위 |
|----|----------|----------|
| FR-01 | 보드 관리 메뉴 하단에 보드 목록 표시 | 필수 |
| FR-02 | 내 보드 / 공유해준 보드 / 공유받은 보드 구분 | 필수 |
| FR-03 | 보드에 지정된 색상 표시 | 필수 |
| FR-04 | 각 섹션 접기/펼치기 기능 | 필수 |
| FR-05 | 보드 클릭 시 해당 보드 업무 페이지로 이동 | 필수 |
| FR-06 | 현재 선택된 보드 하이라이트 | 권장 |

### 2.2 보드 분류 기준

| 분류 | 조건 | 설명 |
|------|------|------|
| 내 보드 | isOwner = true AND shareCount = 0 | 본인 소유, 공유하지 않은 보드 |
| 공유해준 보드 | isOwner = true AND shareCount > 0 | 본인 소유, 다른 사용자에게 공유한 보드 |
| 공유받은 보드 | isOwner = false | 다른 사용자가 공유해준 보드 |

---

## 3. UI 설계

### 3.1 레이아웃

```
┌─────────────────────────────────────┐
│  ...                                │
│  🏢 부서 관리                        │
│  📁 그룹 관리                        │
│  📌 보드 관리                        │
│  ─────────────────────              │
│                                     │
│  ▼ 내 보드 (3)                      │  ← 섹션 헤더 (접기/펼치기)
│    ● 개인 업무                       │  ← 색상 도트 + 보드명
│    ● 프로젝트 A                      │
│    ● 일정 관리                       │
│                                     │
│  ▼ 공유해준 보드 (2)                 │  ← 내가 다른 사람에게 공유
│    ● 팀 프로젝트     👥2            │  ← 공유 인원 수 표시
│    ● 협업 보드       👥5            │
│                                     │
│  ▼ 공유받은 보드 (2)                 │  ← 다른 사람이 나에게 공유
│    ● 마케팅 보드     @홍길동         │  ← 소유자 표시
│    ● 기획 보드       @김철수         │
│                                     │
└─────────────────────────────────────┘
```

### 3.2 보드 항목 구성

| 영역 | 내용 | 비고 |
|------|------|------|
| 좌측 | 색상 도트 (8x8px) | boardColor, 미지정시 회색(#9CA3AF) |
| 중앙 | 보드명 | 말줄임 처리 (truncate) |
| 우측 | 부가 정보 | 공유해준: 👥N, 공유받은: @소유자명 |

### 3.3 상태별 스타일

| 상태 | 스타일 |
|------|--------|
| 기본 | 배경 투명, 텍스트 gray-700 |
| 호버 | 배경 gray-100 |
| 선택됨 | 배경 primary-50, 텍스트 primary-700 |

---

## 4. 데이터 설계

### 4.1 사용 데이터

**Board 타입 (기존)**
```typescript
interface Board {
  boardId: number
  boardName: string
  boardColor?: string      // 보드 색상
  isOwner?: boolean        // 소유 여부
  shareCount: number       // 공유 인원 수
  ownerName?: string       // 소유자명 (공유받은 보드용)
  // ...
}
```

### 4.2 Computed 속성

```typescript
// 내 보드 (공유하지 않은)
const myPrivateBoards = computed(() =>
  boards.filter(b => b.isOwner === true && b.shareCount === 0)
)

// 공유해준 보드 (내 보드인데 다른 사람에게 공유)
const mySharedBoards = computed(() =>
  boards.filter(b => b.isOwner === true && b.shareCount > 0)
)

// 공유받은 보드 (다른 사람이 나에게 공유)
const receivedBoards = computed(() =>
  boards.filter(b => b.isOwner !== true)
)
```

---

## 5. 컴포넌트 설계

### 5.1 수정 대상

| 파일 | 변경 내용 |
|------|-----------|
| `Sidebar.vue` | 보드 목록 섹션 UI 추가, 스토어 연동 |

### 5.2 신규 상태 변수

```typescript
// 섹션 접기/펼치기 상태
const showMyBoards = ref(true)
const showMySharedBoards = ref(true)
const showReceivedBoards = ref(true)
```

### 5.3 함수

```typescript
// 보드 선택 및 페이지 이동
function selectBoard(board: Board) {
  boardStore.setCurrentBoard(board)
  router.push({ name: 'Tasks' })
  emit('close')  // 모바일에서 사이드바 닫기
}

// 섹션 토글
function toggleMyBoards() {
  showMyBoards.value = !showMyBoards.value
}
```

---

## 6. 인터랙션 명세

| 동작 | 결과 |
|------|------|
| 섹션 헤더 클릭 | 해당 섹션 접기/펼치기 토글 |
| 보드 항목 클릭 | 보드 선택 + Tasks 페이지 이동 |
| 보드 항목 호버 | 배경색 변경 (gray-100) |

---

## 7. 예외 처리

| 상황 | 처리 |
|------|------|
| 보드 없음 | 해당 섹션 숨김 또는 "보드 없음" 메시지 |
| 색상 미지정 | 기본 회색(#9CA3AF) 적용 |
| 보드명 길이 초과 | 말줄임(...) 처리 |
| 로딩 중 | 스켈레톤 UI 또는 스피너 표시 |

---

## 8. 화면 예시

### 8.1 전체 펼침 상태
```
▼ 내 보드 (2)
  ● 개인 업무
  ● 메모

▼ 공유해준 보드 (1)
  ● 팀 프로젝트     👥3

▼ 공유받은 보드 (2)
  ● 마케팅 보드     @홍길동
  ● 기획 보드       @김철수
```

### 8.2 일부 접힘 상태
```
▶ 내 보드 (2)

▼ 공유해준 보드 (1)
  ● 팀 프로젝트     👥3

▶ 공유받은 보드 (2)
```

---

## 9. 변경 이력

| 버전 | 날짜 | 변경 내용 |
|------|------|-----------|
| 1.0 | 2024-12-24 | 최초 작성 |
