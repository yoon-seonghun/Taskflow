ì‘ì„±ì¼ : 2025ë…„ 12ì›” 18ì¼ 
ì‘ì„±ì : ìœ¤ì„±í›ˆ 
ì‘ì„±ì‹œê°„ : 22:09
```
  ë¬¸ì„œ êµ¬ì„±

  | ì„¹ì…˜                  | ë‚´ìš©                                                                         |
  |-----------------------|------------------------------------------------------------------------------|
  | 1. ëª©ì                | ìš”ì²­ ê¸°ëŠ¥ ê°œìš”, ìƒì„¸ ìš”êµ¬ì‚¬í•­, ê¸°ëŒ€ íš¨ê³¼                                     |
  | 2. í˜„ì¬ ì‹œìŠ¤í…œ ìƒíƒœ   | ê´€ë ¨ ì»´í¬ë„ŒíŠ¸, ì €ì¥ íë¦„, ì½”ë“œ ë¶„ì„                                          |
  | 3. ê¸°ìˆ ì  ë¬¸ì œì  ë¶„ì„ | ë¬´í•œ ë£¨í”„, ì‹ ê·œ/ìˆ˜ì • êµ¬ë¶„, ë©”íƒ€ë°ì´í„° ì˜¤ì—¼ ë“± 5ê°œ ì´ìŠˆ                       |
  | 4. êµ¬í˜„ ê°€ëŠ¥ì„± í‰ê°€   | ë°©ì‹ë³„ í‰ê°€í‘œ, ê²°ë¡                                                           |
  | 5. ëŒ€ì•ˆ ì œì‹œ          | ëŒ€ì•ˆ A/B/C ìƒì„¸ (DB ìŠ¤í‚¤ë§ˆ, Mapper, Service, Controller, Frontend ì½”ë“œ í¬í•¨) |
  | 6. UI êµ¬í˜„ ë°©ì‹ ì˜µì…˜  | 4ê°€ì§€ UI ì˜µì…˜ ìƒì„¸ ì„¤ëª…                                                      |
  | 7. ì´ë ¥ ì €ì¥ ì •ì±…     | ì €ì¥ ì‹œì , ì¡°ê±´, ë³´ê´€ ì •ì±…                                                   |
  | 8. êµ¬í˜„ ì²´í¬ë¦¬ìŠ¤íŠ¸    | ë°±ì—”ë“œ/í”„ë¡ íŠ¸ì—”ë“œ/í…ŒìŠ¤íŠ¸ í•­ëª©                                                |
  | 9. ì°¸ê³  ìë£Œ          | ê´€ë ¨ íŒŒì¼, ìœ ì‚¬ ê¸°ëŠ¥ ì°¸ì¡°                                                    |
  | 10. ê²°ë¡  ë° ê¶Œì¥ì‚¬í•­  | ìµœì¢… ê²°ë¡ , ìš°ì„ ìˆœìœ„, ì˜ˆìƒ ì‘ì—…ëŸ‰                                             |
---
  ëŒ€ì•ˆ B (ë³„ë„ ì´ë ¥ í…Œì´ë¸”) êµ¬í˜„ ì‹œ í•„ìš”í•œ ëª¨ë“  ì½”ë“œ (SQL, Java, TypeScript, Vue)ê°€ ë¬¸ì„œì— í¬í•¨ë˜ì–´ ìˆì–´ ë°”ë¡œ ê°œë°œì— ì°©ìˆ˜í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
```
# ê¸°ìˆ  ê²€í†  ë¬¸ì„œ

| í•­ëª©     | ë‚´ìš©                                         |
| -------- | -------------------------------------------- |
| ë¬¸ì„œë²ˆí˜¸ | TECH_REVIEW_001                              |
| ì œëª©     | ë§ˆí¬ë‹¤ìš´ ì—ë””í„° ì‘ì„±ì/ìˆ˜ì •ì ìë™ ì¶”ì  ê¸°ëŠ¥ |
| ì‘ì„±ì¼   | 2024-12-18                                   |
| ìƒíƒœ     | ê²€í†  ì™„ë£Œ (êµ¬í˜„ ë³´ë¥˜)                        |
| ê²€í† ì   | Claude Code                                  |

---

## 1. ëª©ì 

### 1.1 ìš”ì²­ ê¸°ëŠ¥ ê°œìš”

ë§ˆí¬ë‹¤ìš´ ì—ë””í„°ì—ì„œ ë‚´ìš© ì‘ì„±/ìˆ˜ì • ì‹œ ì‘ì„±ì ì •ë³´ë¥¼ ìë™ìœ¼ë¡œ ì‚½ì…í•˜ì—¬ í˜‘ì—… ì‹œ ëˆ„ê°€ ì–´ë–¤ ë‚´ìš©ì„ ì‘ì„±/ìˆ˜ì •í–ˆëŠ”ì§€ ì¶”ì í•  ìˆ˜ ìˆë„ë¡ í•¨.

### 1.2 ìƒì„¸ ìš”êµ¬ì‚¬í•­

#### ì‹ ê·œ ë‚´ìš© ì¶”ê°€ ì‹œ

```
ì¶”ê°€ëœ ë‚´ìš© ë°”ë¡œ ìœ—ì¤„ì— ìë™ ì‚½ì…:
[ì‘ì„±ì : {ì´ë¦„}, ì‘ì„±ë‚ ì§œ : {Date}, ì‘ì„±ì‹œê°„ : {Time}]
```

#### ê¸°ì¡´ ë‚´ìš© ìˆ˜ì • ì‹œ

```
ë³€ê²½ëœ ë¬¸ì¥ ëì— (ì¤„ë°”ê¿ˆ ê°ì§€ ì‹œ) ìë™ ì‚½ì…:
[ìˆ˜ì •ì : {ì´ë¦„}, ìˆ˜ì •ë‚ ì§œ : {Date}, ìˆ˜ì •ì‹œê°„ : {Time}]
```

### 1.3 ê¸°ëŒ€ íš¨ê³¼

- í˜‘ì—… ì‹œ ì‘ì„±ì ëª…í™•í™”
- ë³€ê²½ ì´ë ¥ ì¶”ì  ìš©ì´
- ì±…ì„ ì†Œì¬ ëª…í™•í™”

---

## 2. í˜„ì¬ ì‹œìŠ¤í…œ ìƒíƒœ

### 2.1 ê´€ë ¨ ì»´í¬ë„ŒíŠ¸

| íŒŒì¼                  | ì—­í•             | ì£¼ìš” ê¸°ëŠ¥                              |
| --------------------- | --------------- | -------------------------------------- |
| `MarkdownEditor.vue`  | ë§ˆí¬ë‹¤ìš´ ì—ë””í„° | ë””ë°”ìš´ìŠ¤ ìë™ ì €ì¥ (1000ms), blur ì €ì¥ |
| `ItemDetailPanel.vue` | ìŠ¬ë¼ì´ë“œ íŒ¨ë„   | `handleContentSave()` í˜¸ì¶œ             |
| `stores/auth.ts`      | ì¸ì¦ ìŠ¤í† ì–´     | `currentUserName` getter ì œê³µ          |
| `stores/item.ts`      | ì•„ì´í…œ ìŠ¤í† ì–´   | `updateItem()` API í˜¸ì¶œ                |

### 2.2 í˜„ì¬ ì €ì¥ íë¦„

```
ì‚¬ìš©ì ì…ë ¥
    â†“
handleInput() [MarkdownEditor.vue:57-69]
    â†“
ë””ë°”ìš´ìŠ¤ íƒ€ì´ë¨¸ (1000ms)
    â†“
emit('save', localValue)
    â†“
handleContentSave() [ItemDetailPanel.vue:193-214]
    â†“
itemStore.updateItem({ description })
    â†“
PUT /api/boards/{boardId}/items/{itemId}
```

### 2.3 ìë™ ì €ì¥ ì½”ë“œ (MarkdownEditor.vue)

```typescript
// ì…ë ¥ ì²˜ë¦¬ (ë””ë°”ìš´ìŠ¤ ìë™ ì €ì¥)
function handleInput(event: Event) {
  const target = event.target as HTMLTextAreaElement;
  localValue.value = target.value;
  emit("update:modelValue", target.value);

  // ë””ë°”ìš´ìŠ¤ ì €ì¥
  if (saveTimer.value) {
    clearTimeout(saveTimer.value);
  }
  saveTimer.value = setTimeout(() => {
    emit("save", localValue.value);
  }, props.autoSaveDelay); // ê¸°ë³¸ê°’: 1000ms
}

// blur ì‹œ ì¦‰ì‹œ ì €ì¥
function handleBlur() {
  if (saveTimer.value) {
    clearTimeout(saveTimer.value);
    saveTimer.value = null;
  }
  emit("save", localValue.value);
}
```

---

## 3. ê¸°ìˆ ì  ë¬¸ì œì  ë¶„ì„

### 3.1 ë¬´í•œ ë£¨í”„ ë¬¸ì œ (Critical)

**ìœ„í—˜ë„: ì¹˜ëª…ì **

í˜„ì¬ ìë™ ì €ì¥ ë°©ì‹ì—ì„œ ë©”íƒ€ë°ì´í„° ì‚½ì… ì‹œ ë¬´í•œ ë£¨í”„ ë°œìƒ:

```
ì •ìƒ íë¦„:
íƒ€ì´í•‘ â†’ 1ì´ˆ í›„ ì €ì¥ â†’ ë‹¤ìŒ íƒ€ì´í•‘ â†’ 1ì´ˆ í›„ ì €ì¥...

ë©”íƒ€ë°ì´í„° ì‚½ì… ì‹œ:
íƒ€ì´í•‘
  â†’ ë©”íƒ€ë°ì´í„° ì‚½ì… (í…ìŠ¤íŠ¸ ë³€ê²½)
    â†’ ë³€ê²½ ê°ì§€
      â†’ ë‹¤ì‹œ ë©”íƒ€ë°ì´í„° ì‚½ì…
        â†’ ë³€ê²½ ê°ì§€
          â†’ ë¬´í•œ ë°˜ë³µ...
```

**ì˜í–¥**: ë¸Œë¼ìš°ì € ì •ì§€, ë¬´í•œ API í˜¸ì¶œ, ì„œë²„ ë¶€í•˜

### 3.2 ì‹ ê·œ/ìˆ˜ì • êµ¬ë¶„ ë¶ˆê°€ (Critical)

**ìœ„í—˜ë„: ì¹˜ëª…ì **

ì¤„ ë‹¨ìœ„ë¡œ "ì¶”ê°€"ì™€ "ìˆ˜ì •"ì„ êµ¬ë¶„í•˜ë ¤ë©´:

```
í•„ìš” ìš”ì†Œ:
1. ì›ë³¸ í…ìŠ¤íŠ¸ ë³´ê´€ (ì–´ëŠ ì‹œì  ê¸°ì¤€?)
2. ì¤„ ë‹¨ìœ„ diff ì•Œê³ ë¦¬ì¦˜
3. ì‹¤ì‹œê°„ ë³€ê²½ ì¶”ì 

ì˜ˆì‹œ ë¬¸ì œ:
ì›ë³¸: "ì˜¤ëŠ˜ íšŒì˜ ì§„í–‰"
ë³€ê²½: "ì˜¤ëŠ˜ ì¤‘ìš”í•œ íšŒì˜ ì§„í–‰ ì˜ˆì •"

ì§ˆë¬¸:
- "ì¤‘ìš”í•œ"ì€ ì¶”ê°€? ìˆ˜ì •?
- " ì˜ˆì •"ì€ ì¶”ê°€? ìˆ˜ì •?
- ì–´ë””ê¹Œì§€ê°€ í•œ "ìˆ˜ì •"ì¸ê°€?
```

**êµ¬í˜„ ë‚œì´ë„**: diff ì•Œê³ ë¦¬ì¦˜ ë³µì¡ë„ O(n\*m), ì •í™•ë„ ë³´ì¥ ì–´ë ¤ì›€

### 3.3 ìë™ ì €ì¥ ë¹ˆë„ ë¬¸ì œ (Major)

**ìœ„í—˜ë„: ë†’ìŒ**

```
"ì•ˆë…•í•˜ì„¸ìš”" ì…ë ¥ ì‹œë‚˜ë¦¬ì˜¤:

00:00.000 - "ì•ˆ" ì…ë ¥
00:01.000 - ì €ì¥ + ë©”íƒ€ë°ì´í„° ì‚½ì…
00:01.500 - "ë…•" ì…ë ¥
00:02.500 - ì €ì¥ + ë©”íƒ€ë°ì´í„° ì‚½ì…
...

ê²°ê³¼: í•œ ë¬¸ì¥ì— ë©”íƒ€ë°ì´í„° 5ê°œ ì´ìƒ ì¤‘ë³µ
```

### 3.4 ë©”íƒ€ë°ì´í„° ì˜¤ì—¼ (Major)

**ìœ„í—˜ë„: ë†’ìŒ**

```
1ì°¨ ì €ì¥ í›„:
[ì‘ì„±ì: í™ê¸¸ë™, 2024-12-18]
ì•ˆë…•í•˜ì„¸ìš”

2ì°¨ ìˆ˜ì • ì‹œ:
- "[ì‘ì„±ì: í™ê¸¸ë™...]" ë¬¸ì¥ ìì²´ê°€ "ë‚´ìš©"ìœ¼ë¡œ ì¸ì‹
- ë©”íƒ€ë°ì´í„°ì—ë„ ìˆ˜ì • ë©”íƒ€ë°ì´í„° ì¶”ê°€
- ê²°ê³¼: ë©”íƒ€ë°ì´í„° ìœ„ì— ë©”íƒ€ë°ì´í„° ëˆ„ì 

ìµœì¢… ìƒíƒœ:
[ìˆ˜ì •ì: ê¹€ì² ìˆ˜, 2024-12-18]
[ì‘ì„±ì: í™ê¸¸ë™, 2024-12-18]
[ìˆ˜ì •ì: ê¹€ì² ìˆ˜, 2024-12-18]  â† ì¤‘ë³µ
ì•ˆë…•í•˜ì„¸ìš”
```

### 3.5 ì»¤ì„œ ìœ„ì¹˜ í˜¼ë€ (Minor)

**ìœ„í—˜ë„: ë³´í†µ**

```
íƒ€ì´í•‘ ì¤‘:
"ì˜¤ëŠ˜ íšŒì˜|" (| = ì»¤ì„œ)

ë©”íƒ€ë°ì´í„° ì‚½ì… í›„:
"[ì‘ì„±ì: í™ê¸¸ë™...]
ì˜¤ëŠ˜ íšŒì˜|"

ì‚¬ìš©ì ê²½í—˜: ê°‘ìê¸° ì»¤ì„œ ìœ„ í…ìŠ¤íŠ¸ ë³€ê²½ â†’ í˜¼ë€
```

---

## 4. êµ¬í˜„ ê°€ëŠ¥ì„± í‰ê°€

### 4.1 ë°©ì‹ë³„ í‰ê°€í‘œ

| ë°©ì‹                         | êµ¬í˜„ ê°€ëŠ¥ì„± |  ìœ„í—˜ë„   | ê¶Œì¥ |
| ---------------------------- | :---------: | :-------: | :--: |
| ìë™ ì €ì¥ + ìë™ ë©”íƒ€ë°ì´í„°  |   âŒ ë¶ˆê°€   |  ì¹˜ëª…ì    |  âŒ  |
| ìˆ˜ë™ ì €ì¥ + ìë™ ë©”íƒ€ë°ì´í„°  |  âš ï¸ ì–´ë ¤ì›€  |   ë†’ìŒ    |  âŒ  |
| ì €ì¥ ì‹œ ì „ì²´ ë©”íƒ€ë°ì´í„° ê°±ì‹  |   âœ… ê°€ëŠ¥   |   ë‚®ìŒ    |  â–³   |
| ë³„ë„ ì´ë ¥ í…Œì´ë¸” ê´€ë¦¬        |   âœ… ê°€ëŠ¥   | ë§¤ìš° ë‚®ìŒ |  âœ…  |

### 4.2 ê²°ë¡ 

**ì›ë³¸ ìš”ì²­ ë°©ì‹(ì¤„ ë‹¨ìœ„ ìë™ ì‚½ì…)ì€ ê¸°ìˆ ì ìœ¼ë¡œ êµ¬í˜„ ë¶ˆê°€**

ì£¼ìš” ì‚¬ìœ :

1. ìë™ ì €ì¥ê³¼ì˜ ì¶©ëŒë¡œ ë¬´í•œ ë£¨í”„ ë°œìƒ
2. ì¤„ ë‹¨ìœ„ ì¶”ê°€/ìˆ˜ì • êµ¬ë¶„ ì•Œê³ ë¦¬ì¦˜ ë³µì¡ë„ ë†’ìŒ
3. ë©”íƒ€ë°ì´í„°ê°€ ë‚´ìš©ì„ ì˜¤ì—¼ì‹œì¼œ ê°€ë…ì„± ì €í•˜
4. ì˜¤ë¥˜ ê°€ëŠ¥ì„± ë†’ìŒ

---

## 5. ëŒ€ì•ˆ ì œì‹œ

### 5.1 ëŒ€ì•ˆ A: ë§ˆì§€ë§‰ ìˆ˜ì •ì í‘œì‹œ (ê°„ë‹¨)

#### ê°œìš”

ì €ì¥ ì‹œ description ë§¨ ìœ„ì— ë©”íƒ€ë°ì´í„° í•œ ì¤„ë§Œ ìœ ì§€ (ê°±ì‹  ë°©ì‹)

#### í‘œì‹œ í˜•ì‹

```markdown
> ìµœì¢… ìˆ˜ì •: í™ê¸¸ë™ | 2024-12-18 21:00

---

(ë³¸ë¬¸ ë‚´ìš©)
```

#### êµ¬í˜„ ë°©ì‹

```typescript
function addMetadata(content: string, userName: string): string {
  const now = new Date();
  const dateStr = now.toLocaleDateString("ko-KR");
  const timeStr = now.toLocaleTimeString("ko-KR", {
    hour: "2-digit",
    minute: "2-digit",
  });

  const metadata = `> ìµœì¢… ìˆ˜ì •: ${userName} | ${dateStr} ${timeStr}\n---\n\n`;

  // ê¸°ì¡´ ë©”íƒ€ë°ì´í„° ì œê±° í›„ ìƒˆë¡œ ì¶”ê°€
  const cleanContent = content.replace(/^> ìµœì¢… ìˆ˜ì •:.*\n---\n\n/m, "");
  return metadata + cleanContent;
}
```

#### ì¥ë‹¨ì 

| ì¥ì                 | ë‹¨ì                   |
| ------------------- | --------------------- |
| êµ¬í˜„ ê°„ë‹¨           | ì´ì „ ìˆ˜ì •ì ì •ë³´ ìœ ì‹¤ |
| ë¬´í•œ ë£¨í”„ ë°©ì§€ ê°€ëŠ¥ | ìƒì„¸ ì´ë ¥ ì¶”ì  ë¶ˆê°€   |
| ê¸°ì¡´ ì½”ë“œ ìµœì†Œ ìˆ˜ì • | -                     |

---

### 5.2 ëŒ€ì•ˆ B: ë³„ë„ ì´ë ¥ í…Œì´ë¸” (ê¶Œì¥)

#### ê°œìš”

ìˆ˜ì • ì´ë ¥ì„ ë³„ë„ í…Œì´ë¸”ì— ì €ì¥í•˜ê³ , ì—ë””í„° ë‚´ìš©ì€ ìˆœìˆ˜í•˜ê²Œ ìœ ì§€

#### 5.2.1 ë°ì´í„°ë² ì´ìŠ¤ ì„¤ê³„

```sql
-- ë‚´ìš© ìˆ˜ì • ì´ë ¥ í…Œì´ë¸”
CREATE TABLE TB_ITEM_CONTENT_HISTORY (
    HISTORY_ID      BIGINT          PRIMARY KEY AUTO_INCREMENT,
    ITEM_ID         BIGINT          NOT NULL,
    BOARD_ID        BIGINT          NOT NULL,
    EDITOR_ID       BIGINT          NOT NULL,      -- ìˆ˜ì •ì ID
    EDITED_AT       DATETIME        NOT NULL DEFAULT CURRENT_TIMESTAMP,
    CHANGE_TYPE     VARCHAR(10)     NOT NULL,      -- 'CREATE', 'UPDATE'
    CONTENT_BEFORE  TEXT            NULL,          -- ìˆ˜ì • ì „ ì „ì²´ ë‚´ìš©
    CONTENT_AFTER   TEXT            NOT NULL,      -- ìˆ˜ì • í›„ ì „ì²´ ë‚´ìš©
    DIFF_SUMMARY    TEXT            NULL,          -- diff ìš”ì•½ (ì„ íƒ)

    -- ì¸ë±ìŠ¤
    INDEX IDX_CONTENT_HISTORY_ITEM (ITEM_ID, EDITED_AT DESC),
    INDEX IDX_CONTENT_HISTORY_EDITOR (EDITOR_ID, EDITED_AT DESC),
    INDEX IDX_CONTENT_HISTORY_BOARD (BOARD_ID, EDITED_AT DESC),

    -- ì™¸ë˜í‚¤
    CONSTRAINT FK_CONTENT_HISTORY_ITEM
        FOREIGN KEY (ITEM_ID) REFERENCES TB_ITEM(ITEM_ID) ON DELETE CASCADE,
    CONSTRAINT FK_CONTENT_HISTORY_EDITOR
        FOREIGN KEY (EDITOR_ID) REFERENCES TB_USER(USER_ID),
    CONSTRAINT FK_CONTENT_HISTORY_BOARD
        FOREIGN KEY (BOARD_ID) REFERENCES TB_BOARD(BOARD_ID) ON DELETE CASCADE
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci
COMMENT='ì•„ì´í…œ ë‚´ìš© ìˆ˜ì • ì´ë ¥';
```

#### 5.2.2 Domain í´ë˜ìŠ¤

```java
// domain/ItemContentHistory.java
@Getter
@Builder
@NoArgsConstructor
@AllArgsConstructor
public class ItemContentHistory {
    private Long historyId;
    private Long itemId;
    private Long boardId;
    private Long editorId;
    private LocalDateTime editedAt;
    private String changeType;      // CREATE, UPDATE
    private String contentBefore;
    private String contentAfter;
    private String diffSummary;

    // ì¡°íšŒìš© ì¶”ê°€ í•„ë“œ
    private String editorName;
}
```

#### 5.2.3 Mapper ì¸í„°í˜ì´ìŠ¤

```java
// mapper/ItemContentHistoryMapper.java
@Mapper
public interface ItemContentHistoryMapper {

    // ì´ë ¥ ì €ì¥
    int insert(ItemContentHistory history);

    // ì•„ì´í…œë³„ ì´ë ¥ ì¡°íšŒ
    List<ItemContentHistory> findByItemId(
        @Param("itemId") Long itemId,
        @Param("offset") int offset,
        @Param("limit") int limit
    );

    // ë³´ë“œë³„ ì´ë ¥ ì¡°íšŒ (ê´€ë¦¬ììš©)
    List<ItemContentHistory> findByBoardId(
        @Param("boardId") Long boardId,
        @Param("startDate") LocalDate startDate,
        @Param("endDate") LocalDate endDate,
        @Param("offset") int offset,
        @Param("limit") int limit
    );

    // ì‚¬ìš©ìë³„ ì´ë ¥ ì¡°íšŒ
    List<ItemContentHistory> findByEditorId(
        @Param("editorId") Long editorId,
        @Param("offset") int offset,
        @Param("limit") int limit
    );

    // ì´ë ¥ ê°œìˆ˜
    int countByItemId(@Param("itemId") Long itemId);

    // ê°€ì¥ ìµœê·¼ ì´ë ¥ ì¡°íšŒ
    ItemContentHistory findLatestByItemId(@Param("itemId") Long itemId);
}
```

#### 5.2.4 Mapper XML

```xml
<!-- mapper/ItemContentHistoryMapper.xml -->
<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
    "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.taskflow.mapper.ItemContentHistoryMapper">

    <resultMap id="historyResultMap" type="com.taskflow.domain.ItemContentHistory">
        <id property="historyId" column="HISTORY_ID"/>
        <result property="itemId" column="ITEM_ID"/>
        <result property="boardId" column="BOARD_ID"/>
        <result property="editorId" column="EDITOR_ID"/>
        <result property="editedAt" column="EDITED_AT"/>
        <result property="changeType" column="CHANGE_TYPE"/>
        <result property="contentBefore" column="CONTENT_BEFORE"/>
        <result property="contentAfter" column="CONTENT_AFTER"/>
        <result property="diffSummary" column="DIFF_SUMMARY"/>
        <result property="editorName" column="EDITOR_NAME"/>
    </resultMap>

    <insert id="insert" useGeneratedKeys="true" keyProperty="historyId">
        INSERT INTO TB_ITEM_CONTENT_HISTORY (
            ITEM_ID, BOARD_ID, EDITOR_ID, CHANGE_TYPE,
            CONTENT_BEFORE, CONTENT_AFTER, DIFF_SUMMARY
        ) VALUES (
            #{itemId}, #{boardId}, #{editorId}, #{changeType},
            #{contentBefore}, #{contentAfter}, #{diffSummary}
        )
    </insert>

    <select id="findByItemId" resultMap="historyResultMap">
        SELECT
            h.HISTORY_ID,
            h.ITEM_ID,
            h.BOARD_ID,
            h.EDITOR_ID,
            h.EDITED_AT,
            h.CHANGE_TYPE,
            h.CONTENT_BEFORE,
            h.CONTENT_AFTER,
            h.DIFF_SUMMARY,
            u.NAME AS EDITOR_NAME
        FROM TB_ITEM_CONTENT_HISTORY h
        LEFT JOIN TB_USER u ON h.EDITOR_ID = u.USER_ID
        WHERE h.ITEM_ID = #{itemId}
        ORDER BY h.EDITED_AT DESC
        LIMIT #{limit} OFFSET #{offset}
    </select>

    <select id="findByBoardId" resultMap="historyResultMap">
        SELECT
            h.HISTORY_ID,
            h.ITEM_ID,
            h.BOARD_ID,
            h.EDITOR_ID,
            h.EDITED_AT,
            h.CHANGE_TYPE,
            h.CONTENT_BEFORE,
            h.CONTENT_AFTER,
            h.DIFF_SUMMARY,
            u.NAME AS EDITOR_NAME
        FROM TB_ITEM_CONTENT_HISTORY h
        LEFT JOIN TB_USER u ON h.EDITOR_ID = u.USER_ID
        WHERE h.BOARD_ID = #{boardId}
        <if test="startDate != null">
            AND DATE(h.EDITED_AT) >= #{startDate}
        </if>
        <if test="endDate != null">
            AND DATE(h.EDITED_AT) <= #{endDate}
        </if>
        ORDER BY h.EDITED_AT DESC
        LIMIT #{limit} OFFSET #{offset}
    </select>

    <select id="countByItemId" resultType="int">
        SELECT COUNT(*) FROM TB_ITEM_CONTENT_HISTORY
        WHERE ITEM_ID = #{itemId}
    </select>

    <select id="findLatestByItemId" resultMap="historyResultMap">
        SELECT
            h.HISTORY_ID,
            h.ITEM_ID,
            h.BOARD_ID,
            h.EDITOR_ID,
            h.EDITED_AT,
            h.CHANGE_TYPE,
            h.CONTENT_BEFORE,
            h.CONTENT_AFTER,
            h.DIFF_SUMMARY,
            u.NAME AS EDITOR_NAME
        FROM TB_ITEM_CONTENT_HISTORY h
        LEFT JOIN TB_USER u ON h.EDITOR_ID = u.USER_ID
        WHERE h.ITEM_ID = #{itemId}
        ORDER BY h.EDITED_AT DESC
        LIMIT 1
    </select>

</mapper>
```

#### 5.2.5 Service ê³„ì¸µ

```java
// service/ItemContentHistoryService.java
public interface ItemContentHistoryService {
    void saveHistory(Long itemId, Long boardId, Long editorId,
                     String contentBefore, String contentAfter);
    PageResponse<ItemContentHistoryResponse> getHistoryByItemId(
        Long itemId, int page, int size);
    PageResponse<ItemContentHistoryResponse> getHistoryByBoardId(
        Long boardId, LocalDate startDate, LocalDate endDate, int page, int size);
}

// service/impl/ItemContentHistoryServiceImpl.java
@Service
@RequiredArgsConstructor
public class ItemContentHistoryServiceImpl implements ItemContentHistoryService {

    private final ItemContentHistoryMapper historyMapper;

    @Override
    @Transactional
    public void saveHistory(Long itemId, Long boardId, Long editorId,
                           String contentBefore, String contentAfter) {
        // ë‚´ìš©ì´ ì‹¤ì œë¡œ ë³€ê²½ëœ ê²½ìš°ë§Œ ì €ì¥
        if (Objects.equals(contentBefore, contentAfter)) {
            return;
        }

        String changeType = (contentBefore == null || contentBefore.isEmpty())
            ? "CREATE" : "UPDATE";

        // diff ìš”ì•½ ìƒì„± (ì„ íƒì )
        String diffSummary = generateDiffSummary(contentBefore, contentAfter);

        ItemContentHistory history = ItemContentHistory.builder()
            .itemId(itemId)
            .boardId(boardId)
            .editorId(editorId)
            .changeType(changeType)
            .contentBefore(contentBefore)
            .contentAfter(contentAfter)
            .diffSummary(diffSummary)
            .build();

        historyMapper.insert(history);
    }

    private String generateDiffSummary(String before, String after) {
        if (before == null || before.isEmpty()) {
            return "ìµœì´ˆ ì‘ì„±";
        }

        // ê°„ë‹¨í•œ í†µê³„ ê¸°ë°˜ ìš”ì•½
        String[] beforeLines = before.split("\n");
        String[] afterLines = after.split("\n");

        int addedLines = Math.max(0, afterLines.length - beforeLines.length);
        int removedLines = Math.max(0, beforeLines.length - afterLines.length);

        StringBuilder summary = new StringBuilder();
        if (addedLines > 0) {
            summary.append("+").append(addedLines).append("ì¤„ ");
        }
        if (removedLines > 0) {
            summary.append("-").append(removedLines).append("ì¤„ ");
        }
        if (addedLines == 0 && removedLines == 0) {
            summary.append("ë‚´ìš© ìˆ˜ì •");
        }

        return summary.toString().trim();
    }

    @Override
    public PageResponse<ItemContentHistoryResponse> getHistoryByItemId(
            Long itemId, int page, int size) {
        int offset = page * size;
        List<ItemContentHistory> histories =
            historyMapper.findByItemId(itemId, offset, size);
        int total = historyMapper.countByItemId(itemId);

        List<ItemContentHistoryResponse> content = histories.stream()
            .map(ItemContentHistoryResponse::from)
            .collect(Collectors.toList());

        return PageResponse.<ItemContentHistoryResponse>builder()
            .content(content)
            .page(page)
            .size(size)
            .totalElements(total)
            .totalPages((int) Math.ceil((double) total / size))
            .build();
    }
}
```

#### 5.2.6 Controller

```java
// controller/ItemContentHistoryController.java
@RestController
@RequestMapping("/api")
@RequiredArgsConstructor
public class ItemContentHistoryController {

    private final ItemContentHistoryService historyService;

    // ì•„ì´í…œë³„ ë‚´ìš© ìˆ˜ì • ì´ë ¥
    @GetMapping("/items/{itemId}/content-history")
    public ApiResponse<PageResponse<ItemContentHistoryResponse>> getItemHistory(
            @PathVariable Long itemId,
            @RequestParam(defaultValue = "0") int page,
            @RequestParam(defaultValue = "10") int size) {
        return ApiResponse.success(historyService.getHistoryByItemId(itemId, page, size));
    }

    // ë³´ë“œë³„ ë‚´ìš© ìˆ˜ì • ì´ë ¥ (ê´€ë¦¬ììš©)
    @GetMapping("/boards/{boardId}/content-history")
    public ApiResponse<PageResponse<ItemContentHistoryResponse>> getBoardHistory(
            @PathVariable Long boardId,
            @RequestParam(required = false) @DateTimeFormat(iso = DateTimeFormat.ISO.DATE)
                LocalDate startDate,
            @RequestParam(required = false) @DateTimeFormat(iso = DateTimeFormat.ISO.DATE)
                LocalDate endDate,
            @RequestParam(defaultValue = "0") int page,
            @RequestParam(defaultValue = "20") int size) {
        return ApiResponse.success(
            historyService.getHistoryByBoardId(boardId, startDate, endDate, page, size));
    }
}
```

#### 5.2.7 ItemService ìˆ˜ì •

```java
// ItemServiceImpl.java ìˆ˜ì • ë¶€ë¶„

@Service
@RequiredArgsConstructor
public class ItemServiceImpl implements ItemService {

    private final ItemContentHistoryService historyService;
    // ... ê¸°ì¡´ ì˜ì¡´ì„±

    @Override
    @Transactional
    public Item updateItem(Long boardId, Long itemId, ItemUpdateRequest request, Long userId) {
        Item item = itemMapper.findById(itemId)
            .orElseThrow(() -> new BusinessException("ì•„ì´í…œì„ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤."));

        // description ë³€ê²½ ì‹œ ì´ë ¥ ì €ì¥
        if (request.getDescription() != null) {
            String contentBefore = item.getDescription();
            String contentAfter = request.getDescription();

            // ì´ë ¥ ì €ì¥ (ë¹„ë™ê¸° ë˜ëŠ” ë™ê¸°)
            historyService.saveHistory(itemId, boardId, userId, contentBefore, contentAfter);
        }

        // ê¸°ì¡´ ì—…ë°ì´íŠ¸ ë¡œì§...
    }
}
```

#### 5.2.8 í”„ë¡ íŠ¸ì—”ë“œ API

```typescript
// api/contentHistory.ts
import { apiClient } from "./client";
import type { ApiResponse, PageResponse } from "@/types/api";

export interface ContentHistory {
  historyId: number;
  itemId: number;
  boardId: number;
  editorId: number;
  editorName: string;
  editedAt: string;
  changeType: "CREATE" | "UPDATE";
  contentBefore: string | null;
  contentAfter: string;
  diffSummary: string | null;
}

export const contentHistoryApi = {
  // ì•„ì´í…œë³„ ì´ë ¥ ì¡°íšŒ
  getByItemId(itemId: number, page = 0, size = 10) {
    return apiClient.get<ApiResponse<PageResponse<ContentHistory>>>(
      `/items/${itemId}/content-history`,
      { params: { page, size } }
    );
  },

  // ë³´ë“œë³„ ì´ë ¥ ì¡°íšŒ
  getByBoardId(
    boardId: number,
    params?: {
      startDate?: string;
      endDate?: string;
      page?: number;
      size?: number;
    }
  ) {
    return apiClient.get<ApiResponse<PageResponse<ContentHistory>>>(
      `/boards/${boardId}/content-history`,
      { params }
    );
  },
};
```

#### 5.2.9 í”„ë¡ íŠ¸ì—”ë“œ ì´ë ¥ ì»´í¬ë„ŒíŠ¸

```vue
<!-- components/item/ContentHistoryPanel.vue -->
<script setup lang="ts">
import { ref, onMounted, watch } from "vue";
import { contentHistoryApi, type ContentHistory } from "@/api/contentHistory";
import { Spinner, EmptyState, Pagination } from "@/components/common";

interface Props {
  itemId: number;
}

const props = defineProps<Props>();

const loading = ref(false);
const histories = ref<ContentHistory[]>([]);
const pagination = ref({
  page: 0,
  size: 10,
  totalElements: 0,
  totalPages: 0,
});
const expandedId = ref<number | null>(null);

async function loadHistory(page = 0) {
  loading.value = true;
  try {
    const response = await contentHistoryApi.getByItemId(
      props.itemId,
      page,
      pagination.value.size
    );
    if (response.data.success && response.data.data) {
      histories.value = response.data.data.content;
      pagination.value = {
        page: response.data.data.page,
        size: response.data.data.size,
        totalElements: response.data.data.totalElements,
        totalPages: response.data.data.totalPages,
      };
    }
  } finally {
    loading.value = false;
  }
}

function formatDateTime(dateStr: string): string {
  const date = new Date(dateStr);
  return date.toLocaleString("ko-KR", {
    month: "2-digit",
    day: "2-digit",
    hour: "2-digit",
    minute: "2-digit",
  });
}

function toggleExpand(historyId: number) {
  expandedId.value = expandedId.value === historyId ? null : historyId;
}

watch(
  () => props.itemId,
  () => loadHistory(0)
);
onMounted(() => loadHistory());
</script>

<template>
  <div class="h-full flex flex-col">
    <!-- ë¡œë”© -->
    <div v-if="loading" class="flex-1 flex items-center justify-center">
      <Spinner />
    </div>

    <!-- ë¹ˆ ìƒíƒœ -->
    <template v-else-if="histories.length === 0">
      <EmptyState
        title="ìˆ˜ì • ì´ë ¥ì´ ì—†ìŠµë‹ˆë‹¤"
        description="ë‚´ìš©ì´ ìˆ˜ì •ë˜ë©´ ì´ë ¥ì´ ê¸°ë¡ë©ë‹ˆë‹¤."
        icon="document"
        class="flex-1"
      />
    </template>

    <!-- ì´ë ¥ ëª©ë¡ -->
    <template v-else>
      <div class="flex-1 overflow-auto space-y-3 p-2">
        <div
          v-for="history in histories"
          :key="history.historyId"
          class="bg-white border border-gray-200 rounded-lg overflow-hidden"
        >
          <!-- í—¤ë” -->
          <div
            class="flex items-center justify-between px-3 py-2 bg-gray-50 cursor-pointer hover:bg-gray-100"
            @click="toggleExpand(history.historyId)"
          >
            <div class="flex items-center gap-2">
              <span
                class="px-1.5 py-0.5 text-[11px] rounded"
                :class="
                  history.changeType === 'CREATE'
                    ? 'bg-green-100 text-green-700'
                    : 'bg-blue-100 text-blue-700'
                "
              >
                {{ history.changeType === "CREATE" ? "ì‘ì„±" : "ìˆ˜ì •" }}
              </span>
              <span class="text-[13px] font-medium text-gray-900">
                {{ history.editorName }}
              </span>
              <span class="text-[12px] text-gray-500">
                {{ formatDateTime(history.editedAt) }}
              </span>
            </div>
            <div class="flex items-center gap-2">
              <span
                v-if="history.diffSummary"
                class="text-[11px] text-gray-500"
              >
                {{ history.diffSummary }}
              </span>
              <svg
                class="w-4 h-4 text-gray-400 transition-transform"
                :class="{ 'rotate-180': expandedId === history.historyId }"
                fill="none"
                stroke="currentColor"
                viewBox="0 0 24 24"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M19 9l-7 7-7-7"
                />
              </svg>
            </div>
          </div>

          <!-- ìƒì„¸ (í™•ì¥ ì‹œ) -->
          <div
            v-if="expandedId === history.historyId"
            class="border-t border-gray-200"
          >
            <!-- ìˆ˜ì • ì „ -->
            <div
              v-if="history.contentBefore"
              class="p-3 border-b border-gray-100"
            >
              <div class="text-[11px] text-red-600 font-medium mb-1">
                ìˆ˜ì • ì „
              </div>
              <pre
                class="text-[12px] text-gray-600 whitespace-pre-wrap bg-red-50 p-2 rounded"
                >{{ history.contentBefore }}</pre
              >
            </div>
            <!-- ìˆ˜ì • í›„ -->
            <div class="p-3">
              <div class="text-[11px] text-green-600 font-medium mb-1">
                {{ history.changeType === "CREATE" ? "ì‘ì„± ë‚´ìš©" : "ìˆ˜ì • í›„" }}
              </div>
              <pre
                class="text-[12px] text-gray-600 whitespace-pre-wrap bg-green-50 p-2 rounded"
                >{{ history.contentAfter }}</pre
              >
            </div>
          </div>
        </div>
      </div>

      <!-- í˜ì´ì§€ë„¤ì´ì…˜ -->
      <div
        v-if="pagination.totalPages > 1"
        class="flex-shrink-0 border-t border-gray-200 p-2"
      >
        <Pagination
          :current-page="pagination.page"
          :total-pages="pagination.totalPages"
          :total-elements="pagination.totalElements"
          size="sm"
          @page-change="loadHistory"
        />
      </div>
    </template>
  </div>
</template>
```

---

### 5.3 ëŒ€ì•ˆ C: ëŒ“ê¸€ ì‹œìŠ¤í…œ í™œìš©

#### ê°œìš”

ë‚´ìš© ìˆ˜ì • ì‹œ ìë™ìœ¼ë¡œ ì‹œìŠ¤í…œ ëŒ“ê¸€ ìƒì„±

#### êµ¬í˜„ ë°©ì‹

```typescript
// ë‚´ìš© ì €ì¥ ì‹œ
async function handleContentSave(description: string) {
  // ê¸°ì¡´ ì €ì¥ ë¡œì§...

  // ìë™ ëŒ“ê¸€ ìƒì„±
  await commentApi.createComment(item.value.itemId, {
    content: `[ì‹œìŠ¤í…œ] ${currentUserName}ë‹˜ì´ ë‚´ìš©ì„ ìˆ˜ì •í–ˆìŠµë‹ˆë‹¤.`,
    isSystem: true,
  });
}
```

#### ì¥ë‹¨ì 

| ì¥ì                     | ë‹¨ì                            |
| ----------------------- | ------------------------------ |
| ê¸°ì¡´ ëŒ“ê¸€ ì‹œìŠ¤í…œ ì¬í™œìš© | ëŒ“ê¸€ ëª©ë¡ì´ ê¸¸ì–´ì§             |
| êµ¬í˜„ ê°„ë‹¨               | ì‹œìŠ¤í…œ ëŒ“ê¸€ê³¼ ì‚¬ìš©ì ëŒ“ê¸€ í˜¼ì¬ |
| ì•Œë¦¼ ì—°ë™ ìš©ì´          | ìƒì„¸ diff ë³´ê¸° ì–´ë ¤ì›€          |

---

## 6. UI êµ¬í˜„ ë°©ì‹ ì˜µì…˜

### 6.1 ì˜µì…˜ A: ìŠ¬ë¼ì´ë“œ íŒ¨ë„ íƒ­ ì¶”ê°€

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ì—…ë¬´ ìƒì„¸                                 [X]  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  [ì†ì„±]  [ë‚´ìš©]  [ëŒ“ê¸€]  [ì´ë ¥] â† ìƒˆ íƒ­        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                 â”‚
â”‚  (ì´ë ¥ ëª©ë¡ í‘œì‹œ)                               â”‚
â”‚                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**ì í•©í•œ ê²½ìš°**: ê°œë³„ ì—…ë¬´ì˜ ì´ë ¥ì„ ë°”ë¡œ í™•ì¸í•˜ê³  ì‹¶ì„ ë•Œ

### 6.2 ì˜µì…˜ B: ì´ë ¥ê´€ë¦¬ ë©”ë‰´ íƒ­ ì¶”ê°€

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ì´ë ¥ê´€ë¦¬                                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  [ì‘ì—… ì²˜ë¦¬ ì´ë ¥] | [ì‘ì—… ë“±ë¡ ì´ë ¥] | [ë‚´ìš© ìˆ˜ì • ì´ë ¥] â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                 â”‚
â”‚  (ì „ì²´ ìˆ˜ì • ì´ë ¥ ëª©ë¡)                          â”‚
â”‚                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**ì í•©í•œ ê²½ìš°**: ê´€ë¦¬ìê°€ ì „ì²´ ìˆ˜ì • ë‚´ì—­ì„ ëª¨ë‹ˆí„°ë§í•  ë•Œ

### 6.3 ì˜µì…˜ C: ë³µí•© ë°©ì‹ (ê¶Œì¥)

```
ê°œë³„ ì—…ë¬´ í™•ì¸: ìŠ¬ë¼ì´ë“œ íŒ¨ë„ â†’ [ì´ë ¥] íƒ­
ì „ì²´ ëª¨ë‹ˆí„°ë§: ì´ë ¥ê´€ë¦¬ ë©”ë‰´ â†’ [ë‚´ìš© ìˆ˜ì • ì´ë ¥] íƒ­
```

**ì í•©í•œ ê²½ìš°**: ì™„ì „í•œ ì´ë ¥ ê´€ë¦¬ ì‹œìŠ¤í…œì´ í•„ìš”í•  ë•Œ

### 6.4 ì˜µì…˜ D: ì—ë””í„° ë‚´ ë“œë¡­ë‹¤ìš´

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  [í¸ì§‘] [ë¯¸ë¦¬ë³´ê¸°]              [ğŸ“œ ì´ë ¥ (3)]   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                 â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  ì—ë””í„° ì˜ì—­                    â”‚ ì´ë ¥ ëª©ë¡   â”‚ â”‚
â”‚                                 â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**ì í•©í•œ ê²½ìš°**: ì—ë””í„°ì™€ ë°€ì ‘í•˜ê²Œ ì—°ê²°ëœ ë¹ ë¥¸ ì´ë ¥ í™•ì¸

---

## 7. ì´ë ¥ ì €ì¥ ì •ì±…

### 7.1 ì €ì¥ ì‹œì 

| ì´ë²¤íŠ¸                   | ì €ì¥ ì—¬ë¶€ | ì´ìœ                           |
| ------------------------ | :-------: | ----------------------------- |
| ìë™ ì €ì¥ (1ì´ˆ ë””ë°”ìš´ìŠ¤) |    âŒ     | ë„ˆë¬´ ë¹ˆë²ˆ, ë¶ˆí•„ìš”í•œ ì´ë ¥ ìƒì„± |
| blur ì €ì¥                |    âœ…     | ì—ë””í„° í¬ì»¤ìŠ¤ ìƒì„ ë•Œ ì €ì¥    |
| íŒ¨ë„ ë‹«ê¸°                |    âœ…     | ìµœì¢… ì €ì¥ ë³´ì¥                |
| ìˆ˜ë™ ì €ì¥ ë²„íŠ¼ (ì„ íƒ)    |    âœ…     | ëª…ì‹œì  ì €ì¥                   |

### 7.2 ì €ì¥ ì¡°ê±´

```java
// ì´ë ¥ ì €ì¥ ì¡°ê±´
boolean shouldSaveHistory =
    request.getDescription() != null &&                    // description í•„ë“œ ì¡´ì¬
    !Objects.equals(contentBefore, contentAfter) &&        // ë‚´ìš© ë³€ê²½ë¨
    (contentAfter != null && !contentAfter.trim().isEmpty()); // ë¹ˆ ë‚´ìš© ì•„ë‹˜
```

### 7.3 ì´ë ¥ ë³´ê´€ ì •ì±… (ì„ íƒ)

```sql
-- 90ì¼ ì´ìƒ ëœ ì´ë ¥ ìë™ ì‚­ì œ (ì„ íƒì  êµ¬í˜„)
DELETE FROM TB_ITEM_CONTENT_HISTORY
WHERE EDITED_AT < DATE_SUB(NOW(), INTERVAL 90 DAY);
```

---

## 8. êµ¬í˜„ ì²´í¬ë¦¬ìŠ¤íŠ¸

### 8.1 ë°±ì—”ë“œ

- [ ] TB_ITEM_CONTENT_HISTORY í…Œì´ë¸” ìƒì„± (01_schema.sql)
- [ ] ItemContentHistory ë„ë©”ì¸ í´ë˜ìŠ¤ ìƒì„±
- [ ] ItemContentHistoryMapper ì¸í„°í˜ì´ìŠ¤ ìƒì„±
- [ ] ItemContentHistoryMapper.xml ìƒì„±
- [ ] ItemContentHistoryService ì¸í„°í˜ì´ìŠ¤/êµ¬í˜„ì²´ ìƒì„±
- [ ] ItemContentHistoryController ìƒì„±
- [ ] ItemServiceImplì— ì´ë ¥ ì €ì¥ ë¡œì§ ì¶”ê°€
- [ ] DTO (Request/Response) ìƒì„±

### 8.2 í”„ë¡ íŠ¸ì—”ë“œ

- [ ] contentHistory.ts API ëª¨ë“ˆ ìƒì„±
- [ ] ContentHistory íƒ€ì… ì •ì˜
- [ ] ContentHistoryPanel.vue ì»´í¬ë„ŒíŠ¸ ìƒì„±
- [ ] ItemDetailPanel.vueì— [ì´ë ¥] íƒ­ ì¶”ê°€
- [ ] (ì„ íƒ) HistoryView.vueì— [ë‚´ìš© ìˆ˜ì • ì´ë ¥] íƒ­ ì¶”ê°€

### 8.3 í…ŒìŠ¤íŠ¸

- [ ] ì´ë ¥ ì €ì¥ í…ŒìŠ¤íŠ¸ (CREATE, UPDATE)
- [ ] ì´ë ¥ ì¡°íšŒ í…ŒìŠ¤íŠ¸ (ì•„ì´í…œë³„, ë³´ë“œë³„)
- [ ] í˜ì´ì§€ë„¤ì´ì…˜ í…ŒìŠ¤íŠ¸
- [ ] ë™ì‹œ ìˆ˜ì • ì‹œ ì´ë ¥ ì¶©ëŒ í…ŒìŠ¤íŠ¸

---

## 9. ì°¸ê³  ìë£Œ

### 9.1 ê´€ë ¨ íŒŒì¼

| íŒŒì¼                                                                   | ìš©ë„             |
| ---------------------------------------------------------------------- | ---------------- |
| `frontend/src/components/common/MarkdownEditor.vue`                    | ë§ˆí¬ë‹¤ìš´ ì—ë””í„°  |
| `frontend/src/components/item/ItemDetailPanel.vue`                     | ìŠ¬ë¼ì´ë“œ íŒ¨ë„    |
| `frontend/src/stores/auth.ts`                                          | ì‚¬ìš©ì ì •ë³´ ì ‘ê·¼ |
| `frontend/src/stores/item.ts`                                          | ì•„ì´í…œ ìƒíƒœ ê´€ë¦¬ |
| `backend/src/main/java/com/taskflow/service/impl/ItemServiceImpl.java` | ì•„ì´í…œ ì„œë¹„ìŠ¤    |

### 9.2 ìœ ì‚¬ ê¸°ëŠ¥ ì°¸ì¡°

- Google Docs: ë²„ì „ ê¸°ë¡
- Notion: í˜ì´ì§€ ì´ë ¥
- Confluence: í˜ì´ì§€ ë²„ì „ ë¹„êµ

---

## 10. ê²°ë¡  ë° ê¶Œì¥ì‚¬í•­

### 10.1 ìµœì¢… ê²°ë¡ 

| í•­ëª©        | ë‚´ìš©                                        |
| ----------- | ------------------------------------------- |
| ì›ë³¸ ìš”ì²­   | ì¤„ ë‹¨ìœ„ ìë™ ì‘ì„±ì/ìˆ˜ì •ì ì‚½ì…             |
| êµ¬í˜„ ê°€ëŠ¥ì„± | âŒ ë¶ˆê°€ (ë¬´í•œ ë£¨í”„, ë³µì¡ë„)                 |
| ê¶Œì¥ ëŒ€ì•ˆ   | ëŒ€ì•ˆ B: ë³„ë„ ì´ë ¥ í…Œì´ë¸”                    |
| UI ê¶Œì¥     | ì˜µì…˜ C: ë³µí•© ë°©ì‹ (íŒ¨ë„ íƒ­ + ì´ë ¥ê´€ë¦¬ ë©”ë‰´) |

### 10.2 êµ¬í˜„ ìš°ì„ ìˆœìœ„

1. **1ë‹¨ê³„**: TB_ITEM_CONTENT_HISTORY í…Œì´ë¸” + ë°±ì—”ë“œ API
2. **2ë‹¨ê³„**: ìŠ¬ë¼ì´ë“œ íŒ¨ë„ [ì´ë ¥] íƒ­
3. **3ë‹¨ê³„**: ì´ë ¥ê´€ë¦¬ ë©”ë‰´ [ë‚´ìš© ìˆ˜ì • ì´ë ¥] íƒ­ (ì„ íƒ)

### 10.3 ì˜ˆìƒ ê°œë°œ ê¸°ê°„

| ë‹¨ê³„  | ë²”ìœ„          | ì˜ˆìƒ ì‘ì—…ëŸ‰ |
| ----- | ------------- | ----------- |
| 1ë‹¨ê³„ | DB + Backend  | ì¤‘ê°„        |
| 2ë‹¨ê³„ | Frontend íŒ¨ë„ | ì¤‘ê°„        |
| 3ë‹¨ê³„ | Frontend ë©”ë‰´ | ì‘ìŒ        |

---

**ë¬¸ì„œ ë**
